<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>📅 ปฏิทินงาน (Admin)</title>

<!-- FullCalendar -->
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/locales-all.min.js"></script>

<link rel="stylesheet" href="../CSS/calendar.css">
</head>
<body>

<header>
  <div class="header-title">📅 ปฏิทินงาน (SALES & ADMIN)</div>
  <button id="openSidebarBtn">☰</button>
</header>

<div id="sidebar">
  <button id="closeSidebarBtn">✕</button>
  
  <div class="logo-container" style="text-align: center; margin-bottom: 1rem;">
    <img src="../image/ad_logo-Photoroom.png" style="width: 80px; height: auto; background: rgba(255,255,255,0.9); padding: 8px; border-radius: 12px;">
  </div>
  
  <div class="user-card">
    <div class="user-icon">👤</div>
    <div class="user-label">ผู้ใช้งาน</div>
    <div id="displayName">Loading...</div>
  </div>
  
  <a href="#" id="navAddJob">➕ เพิ่มงาน</a>
  <a href="adminV2.html">📋 จัดการระบบ</a>
  <a href="index.html">🚪 กลับไปหน้าหลัก</a>
</div>

<div id="sidebarOverlay"></div>

<!-- Search Bar -->
<div id="searchBar">
  <input type="text" id="jobSearch" placeholder="🔍 ค้นหาเลขที่งาน (Job Number)">
  <button id="btnSearch">ค้นหา</button>
  <button id="btnReport">ดูรายงาน</button>
</div>

<div id="calendar"></div>

<!-- Modal สำหรับแสดงรายละเอียดงาน -->
<div id="eventModal" class="modal">
  <div class="modal-content">
    <h3>รายละเอียดงาน</h3>
    <p><strong>ชื่อผู้ปฏิบัติงาน:</strong> <span id="modalTitle"></span></p>
    <p><strong>เลขงาน:</strong> <span id="modalJobNumber"></span></p>
    <p><strong>ลักษณะงาน:</strong> <span id="modalJobTypes"></span></p>
    <p><strong>สถานที่:</strong> <span id="modalLocation"></span></p>
    <p><strong>วิธีการเดินทาง:</strong> <span id="modalHowto"></span></p>
    <p><strong>วันที่เริ่ม:</strong> <span id="modalStart"></span></p>
    <p><strong>วันที่สิ้นสุด:</strong> <span id="modalEnd"></span></p>
    <p><strong>รายละเอียด:</strong> <span id="modalDetails"></span></p>
    <p><strong>ผู้สั่งงาน:</strong> <span id="modalAssignedBy"></span></p>
    <p><strong>สถานะ:</strong> <span id="modalStatus"></span></p>
    <p><strong>เหตุผลที่ไม่เรียบร้อย:</strong> <span id="modalIncompleteReason"></span></p>
    <p><strong>หมายเหตุ:</strong> <span id="modalRemark"></span></p>

    <button id="editJobBtn">✏️ แก้ไขงาน</button>
    <button id="closeModal">ปิด</button>
  </div>
</div>

<footer>&copy; 2025 ระบบจองบุคคลออกปฏิบัติงาน | AUTODIDACTIC</footer>

<script type="module" src="../js/calendarA.app.js"></script>

</body>
</html>