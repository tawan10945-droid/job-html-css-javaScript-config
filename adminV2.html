<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dashboard р╕гр╕░р╕Ър╕Ъ AUTODIDACTIC (Admin)</title>

  <!-- FullCalendar -->
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

  <!-- Custom Styles -->
  <link rel="stylesheet" href="../CSS/admin.css">
</head>
<body>

<header>
  <div class="logo-title">
    <img src="../image/ad_logo-Photoroom.png" alt="logo" onerror="this.style.display='none'" />
    <div>
      <div style="font-weight:800; font-size:18px;">ЁЯЫа р╕гр╕░р╕Ър╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕г AUTODIDACTIC (Admin)</div>
      <div class="tiny2">Dashboard - р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Зр╕▓р╕Щ р╕зр╕▒р╕Щр╕ер╕▓ р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ р╕гр╕▓р╕вр╕Кр╕╖р╣Ир╕н р╣Бр╕ер╕░р╕зр╕▒р╕Щр╕лр╕вр╕╕р╕Ф</div>
    </div>
  </div>
  <nav>
    <a href="calendar_admin.html" class="nav-btn">р╕Бр╕ер╕▒р╕Ър╕лр╕Щр╣Йр╕▓р╕лр╕ер╕▒р╕Б</a>
  </nav>
</header>

<main>
  <div class="top-actions">
    <a href="calendar_admin.html" class="btn">тЖР р╕Бр╕ер╕▒р╕Ъ</a>
    <a href="export-csv.html" class="btn secondary">тмЗ Export CSV</a>
    <button id="toggleDebug" class="btn secondary">ЁЯФН Debug</button>
    <div style="flex:1"></div>
    <div class="small-muted">┬й 2025 AUTODIDACTIC</div>
  </div>

  <div class="grid">

    <!-- р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Зр╕▓р╕Щр╕Бр╕│р╕ер╕▒р╕Зр╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕г -->
    <section class="card">
      <h3>ЁЯУЛ р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Зр╕▓р╕Щ (р╕Бр╕│р╕ер╕▒р╕Зр╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕г)</h3>
      <div id="eventListPending" class="small-muted">тП│ р╕Бр╕│р╕ер╕▒р╕Зр╣Вр╕лр╕ер╕Ф...</div>
    </section>

    <!-- р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕зр╕▒р╕Щр╕ер╕▓ -->
    <section class="card">
      <h3>ЁЯПЦ р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕зр╕▒р╕Щр╕ер╕▓</h3>
      <div id="leaveList" class="small-muted">тП│ р╕Бр╕│р╕ер╕▒р╕Зр╣Вр╕лр╕ер╕Ф...</div>
    </section>

    <!-- р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Зр╕▓р╕Щр╣Ар╕гр╕╡р╕вр╕Ър╕гр╣Йр╕нр╕в -->
    <section class="card">
      <h3>ЁЯУЛ р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Зр╕▓р╕Щ (р╣Ар╕гр╕╡р╕вр╕Ър╕гр╣Йр╕нр╕в)</h3>
      <div id="eventListCompleted" class="small-muted">тП│ р╕Бр╕│р╕ер╕▒р╕Зр╣Вр╕лр╕ер╕Ф...</div>
    </section>

    <!-- р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕гр╕░р╕Ър╕Ъ -->
    <section class="card" style="grid-column:1 / -1;">
      <h3>ЁЯСе р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕гр╕░р╕Ър╕Ъ (Users)</h3>

      <div class="input-row">
        <input id="userName" type="text" placeholder="р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й (name)" style="flex:2;">
        <input id="userUserId" type="text" placeholder="userId (р╕Цр╣Йр╕▓р╣Др╕бр╣Ир╣Гр╕кр╣Ир╣Гр╕Кр╣Й auto ID)" style="flex:1;">
        <input id="userPassword" type="password" placeholder="р╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ (password)" style="flex:1;">
        <select id="userPosition" style="width:150px;">
          <option value="">р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕З</option>
          <option value="engineer">Engineer</option>
          <option value="sales">Sales</option>
          <option value="manager">Manager</option>
          <option value="admin">Admin</option>
        </select>
        <button id="addUserBtn" class="btn">тЮХ р╣Ар╕Юр╕┤р╣Ир╕бр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й</button>
      </div>
      <div class="tiny" style="margin-bottom:12px;">р╕лр╕▓р╕Бр╣Др╕бр╣Ир╣Гр╕кр╣И userId р╕гр╕░р╕Ър╕Ър╕Ир╕░р╣Гр╕Кр╣Й document ID р╣Ар╕Ыр╣Зр╕Щ userId р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤</div>

      <div style="display:grid; grid-template-columns:repeat(4,1fr); gap:12px; margin-top:12px;">
        <div>
          <h4 class="small-muted">ЁЯФз Engineer</h4>
          <div id="engineerList">тП│ р╕Бр╕│р╕ер╕▒р╕Зр╣Вр╕лр╕ер╕Ф...</div>
        </div>
        <div>
          <h4 class="small-muted">ЁЯТ╝ Sales</h4>
          <div id="salesList">тП│ р╕Бр╕│р╕ер╕▒р╕Зр╣Вр╕лр╕ер╕Ф...</div>
        </div>
        <div>
          <h4 class="small-muted">ЁЯСФ Manager</h4>
          <div id="managerList">тП│ р╕Бр╕│р╕ер╕▒р╕Зр╣Вр╕лр╕ер╕Ф...</div>
        </div>
        <div>
          <h4 class="small-muted">тЪЩя╕П Admin</h4>
          <div id="adminList">тП│ р╕Бр╕│р╕ер╕▒р╕Зр╣Вр╕лр╕ер╕Ф...</div>
        </div>
      </div>
    </section>

    <!-- р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕гр╕▓р╕вр╕Кр╕╖р╣Ир╕н (р╕Фр╕╢р╕Зр╕Ир╕▓р╕Б users р╕Хр╕▓р╕б status) -->
    <section class="card" style="grid-column:1 / -1;">
      <h3>ЁЯСд р╕гр╕▓р╕вр╕Кр╕╖р╣Ир╕н Worker / Assigner (р╕Ир╕▓р╕Б Users)</h3>
      <div class="tiny" style="margin-bottom:12px;">
        ЁЯТб р╕гр╕▓р╕вр╕Кр╕╖р╣Ир╕нр╕Фр╣Йр╕▓р╕Щр╕ер╣Ир╕▓р╕Зр╕Фр╕╢р╕Зр╕Ир╕▓р╕Б users р╣Вр╕Фр╕вр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤:<br>
        тАв <b>Workers:</b> users р╕Чр╕╡р╣Ир╕бр╕╡ status р╣Ар╕Ыр╣Зр╕Щ "headworkers" р╕лр╕гр╕╖р╕н "workers"<br>
        тАв <b>Assigners:</b> users р╕Чр╕╡р╣Ир╕бр╕╡ status р╣Ар╕Ыр╣Зр╕Щ "assigners"<br>
        <span style="color:#c00;">тЪая╕П р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕: р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Чр╕▒р╣Йр╕З field "status" р╣Бр╕ер╕░ "stutus" (р╕кр╕░р╕Бр╕Фр╕Ьр╕┤р╕Ф)</span>
      </div>

      <div style="display:grid; grid-template-columns:repeat(2,1fr); gap:12px; margin-top:12px;">
        <div>
          <h4 class="small-muted">р╕Ьр╕╣р╣Йр╕Ыр╕Пр╕┤р╕Ър╕▒р╕Хр╕┤р╕Зр╕▓р╕Щ (Workers)</h4>
          <div id="workerList">тП│ р╕Бр╕│р╕ер╕▒р╕Зр╣Вр╕лр╕ер╕Ф...</div>
          <div id="workerDebug" class="debug-info" style="display:none;"></div>
        </div>
        <div>
          <h4 class="small-muted">р╕Др╕Щр╕Чр╕╡р╣Ир╕кр╕▒р╣Ир╕Зр╕Зр╕▓р╕Щ (Assigners)</h4>
          <div id="assignerList">тП│ р╕Бр╕│р╕ер╕▒р╕Зр╣Вр╕лр╕ер╕Ф...</div>
          <div id="assignerDebug" class="debug-info" style="display:none;"></div>
        </div>
      </div>
    </section>

    <!-- р╕Ыр╕Пр╕┤р╕Чр╕┤р╕Щр╕зр╕▒р╕Щр╕лр╕вр╕╕р╕Ф -->
    <section class="card" style="grid-column:1 / -1;">
      <h3>ЁЯПв р╕Ыр╕Пр╕┤р╕Чр╕┤р╕Щр╕зр╕▒р╕Щр╕лр╕вр╕╕р╕Фр╕Ыр╕гр╕░р╕Ир╕│р╕Ър╕гр╕┤р╕йр╕▒р╕Ч</h3>
      <div id="holidayCalendar"></div>
      <div class="tiny" style="margin-top:8px;">ЁЯТб р╕Др╕ер╕┤р╕Бр╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╣Ар╕Юр╕╖р╣Ир╕нр╣Ар╕Юр╕┤р╣Ир╕бр╕зр╕▒р╕Щр╕лр╕вр╕╕р╕Ф тАФ р╕Др╕ер╕┤р╕Бр╣Ар╕лр╕Хр╕╕р╕Бр╕▓р╕гр╕Ур╣Мр╣Ар╕Юр╕╖р╣Ир╕нр╕ер╕Ъ</div>
    </section>

  </div>
</main>

<footer>┬й 2025 р╕гр╕░р╕Ър╕Ъ AUTODIDACTIC тАФ р╕кр╕Зр╕зр╕Щр╕ер╕┤р╕Вр╕кр╕┤р╕Чр╕Шр╕┤р╣М</footer>

<!-- Firebase Config & Main App -->
<script type="module" src="../config-firesbase/firebase-config.js"></script>
<script type="module" src="../js/admin.js"></script>

</body>
</html>